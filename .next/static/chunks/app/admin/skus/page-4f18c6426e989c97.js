(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{1032:(e,a,s)=>{Promise.resolve().then(s.bind(s,8440))},8440:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(5155),l=s(2115);function r(){let[e,a]=(0,l.useState)([]),[s,r]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[u,o]=(0,l.useState)(!1),[p,m]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("/api/skus").then(e=>e.json()).then(e=>a(e)).catch(()=>m("Failed to load SKUs"))},[]);let h=async e=>{e.preventDefault(),o(!0),m(null);let t=await fetch("/api/skus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,code:n,description:d})}),l=await t.json();t.ok?(a(e=>[...e,l]),r(""),i(""),c("")):m(l.error||"Failed to create SKU"),o(!1)};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"SKUs"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4 mb-6",children:[(0,t.jsx)("input",{type:"text",placeholder:"Name",value:s,onChange:e=>r(e.target.value),className:"w-full p-2 border rounded",required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Code",value:n,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded",required:!0}),(0,t.jsx)("textarea",{placeholder:"Description (optional)",value:d,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:u?"Creating...":"Create SKU"}),p&&(0,t.jsx)("p",{className:"text-red-600",children:p})]}),(0,t.jsx)("ul",{className:"space-y-2",children:e.map(e=>{var a,s;return(0,t.jsxs)("li",{className:"border p-4 rounded",children:[(0,t.jsxs)("h2",{className:"font-semibold",children:[e.name," (",e.code,")"]}),(0,t.jsx)("p",{children:e.description}),e.recipeItems&&(null==(a=e.recipeItems)?void 0:a.length)>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"Recipe Items:"}),(0,t.jsx)("ul",{className:"ml-4 list-disc",children:null==(s=e.recipeItems)?void 0:s.map(e=>{var a;return(0,t.jsx)("li",{children:(null==(a=e.rawMaterial)?void 0:a.name)||"Unnamed Raw Material"},e.id)})})]})]},e.id)})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(1032)),_N_E=e.O()}]);