(()=>{var e={};e.id=60,e.ids=[60],e.modules={536:()=>{},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1107:(e,t,r)=>{Promise.resolve().then(r.bind(r,4821))},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4421:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},4821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(687),s=r(3210);function i(){let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)({name:"",unit:"",description:"",quantity:0}),[n,l]=(0,s.useState)(!0),[d,o]=(0,s.useState)(!1),[c,p]=(0,s.useState)({id:"",value:"0"}),[m,u]=(0,s.useState)(null),[x,h]=(0,s.useState)(null),b=async()=>{if(!r.name||!r.unit)return void alert("Name and unit are required");o(!0),u(null);try{let a=await fetch("/api/raw-materials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,quantity:r.quantity||0})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to add material")}let s=await a.json();t([...e,s]),i({name:"",unit:"",description:"",quantity:0})}catch(e){console.error("Error:",e),alert(e instanceof Error?e.message:"Failed to add material")}finally{o(!1)}},v=async r=>{if(!c.value||isNaN(Number(c.value)))return void u("Please enter a valid quantity");try{let a=await fetch("/api/raw-materials/quantity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:r,quantity:Number(c.value),action:"set"})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to update quantity")}let s=await a.json();t(e.map(e=>e.id===s.id?s:e)),p({id:"",value:"0"}),h("Quantity updated successfully!"),setTimeout(()=>h(null),3e3)}catch(e){console.error("Error:",e),u(e instanceof Error?e.message:"Failed to update quantity")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm z-10",children:(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-blue-700",children:"Raw Materials RMFPL"})})}),(0,a.jsxs)("main",{className:"pt-16 px-4 pb-6 max-w-lg mx-auto",children:[m&&(0,a.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg mb-4 mt-2",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:m})]})}),x&&(0,a.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg mb-4 mt-2",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:x})]})}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-5 mt-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-black mb-4",children:"Add New Raw Material"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name*"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter material name",className:"w-full border rounded-lg p-3 text-black focus:ring-blue-500 focus:border-blue-500",value:r.name,onChange:e=>i({...r,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit* (kg, g, etc.)"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter unit of measurement",className:"w-full border rounded-lg p-3 text-black focus:ring-blue-500 focus:border-blue-500",value:r.unit,onChange:e=>i({...r,unit:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Quantity"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",placeholder:"Enter initial quantity",className:"w-full border rounded-lg p-3 text-black focus:ring-blue-500 focus:border-blue-500",value:r.quantity,onChange:e=>i({...r,quantity:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter description",className:"w-full border rounded-lg p-3 text-black focus:ring-blue-500 focus:border-blue-500",value:r.description,onChange:e=>i({...r,description:e.target.value})})]}),(0,a.jsx)("button",{onClick:b,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Material"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mt-6",children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b",children:(0,a.jsx)("h2",{className:"font-semibold text-gray-800",children:"Existing Raw Materials"})}),n?(0,a.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 text-black border-blue-500"})}):0===e.length?(0,a.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No raw materials found"}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Unit"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Current Qty"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Update Qty"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider hidden sm:table-cell",children:"Description"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 text-black",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.unit}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.quantity}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:c.id===e.id?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-20 border rounded p-1",value:c.value,onChange:t=>p({id:e.id,value:t.target.value})}),(0,a.jsx)("button",{onClick:()=>v(e.id),className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Save"}),(0,a.jsx)("button",{onClick:()=>p({id:"",value:"0"}),className:"bg-gray-500 text-white px-2 py-1 rounded text-sm",children:"Cancel"})]}):(0,a.jsx)("button",{onClick:()=>p({id:e.id,value:e.quantity.toString()}),className:"bg-green-500 text-white px-2 py-1 rounded text-sm",children:"Update"})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap hidden sm:table-cell",children:e.description||"-"})]},e.id))})]})})]})]})]})}},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(1658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6277:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},6435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=r(5239),s=r(8088),i=r(8170),n=r.n(i),l=r(893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o={children:["",{children:["admin",{children:["raw-materials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7807)),"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\admin\\raw-materials\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\admin\\raw-materials\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/raw-materials/page",pathname:"/admin/raw-materials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7384:()=>{},7807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\eshit\\\\Desktop\\\\projects\\\\exporter\\\\app\\\\admin\\\\raw-materials\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\admin\\raw-materials\\page.tsx","default")},7963:(e,t,r)=>{Promise.resolve().then(r.bind(r,7807))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>d});var a=r(7413),s=r(260),i=r.n(s),n=r(3298),l=r.n(n);r(2704);let d={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return(0,a.jsx)("html",{lang:"en",className:"scroll-smooth",children:(0,a.jsx)("body",{className:`${i().variable} ${l().variable} antialiased`,children:e})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,423,658],()=>r(6435));module.exports=a})();