(()=>{var e={};e.id=3,e.ids=[3],e.modules={13:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>c});var a={};r.r(a),r.d(a,{PUT:()=>p});var s=r(6559),i=r(8088),n=r(7719),o=r(2190),u=r(9464);async function p(e){try{let{materialId:t,quantity:r,action:a}=await e.json();if(!t||void 0===r)return o.NextResponse.json({error:"Material ID and quantity are required"},{status:400});let s=await u.A.rawMaterial.findUnique({where:{id:t}});if(!s)return o.NextResponse.json({error:"Raw material not found"},{status:404});let i=s.quantity;switch(a){case"add":i+=r;break;case"subtract":i=Math.max(0,i-r);break;case"set":i=r;break;default:return o.NextResponse.json({error:"Invalid action specified"},{status:400})}let n=await u.A.rawMaterial.update({where:{id:t},data:{quantity:i}});return o.NextResponse.json(n)}catch(e){return console.error("Error updating raw material quantity:",e),o.NextResponse.json({error:"Failed to update raw material quantity"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/raw-materials/quantity/route",pathname:"/api/raw-materials/quantity",filename:"route",bundlePath:"app/api/raw-materials/quantity/route"},resolvedPagePath:"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\api\\raw-materials\\quantity\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:l,workUnitAsyncStorage:c,serverHooks:x}=d;function w(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:c})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6330:e=>{"use strict";e.exports=require("@prisma/client")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9464:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(6330);let s=globalThis.prisma||new a.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,580],()=>r(13));module.exports=a})();