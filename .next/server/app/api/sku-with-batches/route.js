(()=>{var e={};e.id=733,e.ids=[733],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3843:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var s=r(9819);function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&s._P in e?e[s._P](t):e instanceof Date?new e.constructor(t):new Date(t)}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6330:e=>{"use strict";e.exports=require("@prisma/client")},6445:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var s=r(7241);function a(e,t){let r=(0,s.a)(e,t?.in);return r.setHours(0,0,0,0),r}},6487:()=>{},7241:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var s=r(3843);function a(e,t){return(0,s.w)(t||e,e)}},7488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>w});var s={};r.r(s),r.d(s,{GET:()=>p});var a=r(6559),n=r(8088),i=r(7719),o=r(2190),u=r(9464),c=r(6445);async function p(e){try{let{searchParams:t}=new URL(e.url),r=t.get("date"),s=r?new Date(r):new Date,a=(0,c.o)(s),n=new Date(a.getTime()+864e5),i=await u.A.sKU.findMany({include:{dailyBatches:{where:{date:{gte:a,lt:n}}},recipeItems:{include:{rawMaterial:!0}}},orderBy:{name:"asc"}});return o.NextResponse.json(i)}catch(e){return console.error(e),o.NextResponse.json({error:"Failed to fetch SKUs with batches"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/sku-with-batches/route",pathname:"/api/sku-with-batches",filename:"route",bundlePath:"app/api/sku-with-batches/route"},resolvedPagePath:"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\api\\sku-with-batches\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:w,serverHooks:h}=d;function x(){return(0,i.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:w})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9464:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(6330);let a=globalThis.prisma||new s.PrismaClient},9819:(e,t,r)=>{"use strict";r.d(t,{_P:()=>n,my:()=>s,w4:()=>a});let s=6048e5,a=864e5,n=Symbol.for("constructDateFrom")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(7488));module.exports=s})();