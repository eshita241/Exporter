(()=>{var e={};e.id=164,e.ids=[164],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3843:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var s=r(9819);function n(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&s._P in e?e[s._P](t):e instanceof Date?new e.constructor(t):new Date(t)}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>x,serverHooks:()=>m,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{GET:()=>d,POST:()=>l});var n=r(6559),a=r(8088),o=r(7719),i=r(2190),u=r(9464),c=r(6445),p=r(7241);async function d(e){try{let{searchParams:t}=new URL(e.url),r=t.get("date"),s=r?new Date(r):new Date,n=await u.A.sKU.findMany({include:{recipeItems:{include:{rawMaterial:!0}},dailyBatches:{where:{date:{gte:(0,c.o)(s),lt:function(e,t){let r=(0,p.a)(e,void 0);return r.setHours(23,59,59,999),r}(s)}}}},orderBy:{name:"asc"}});return i.NextResponse.json(n)}catch{return i.NextResponse.json({error:"Failed to fetch SKUs"},{status:500})}}async function l(e){try{let{name:t,code:r,description:s}=await e.json();if(!t||!r)return i.NextResponse.json({error:"Name and code are required"},{status:400});let n=await u.A.sKU.create({data:{name:t,code:r,description:s||""}});return i.NextResponse.json(n,{status:201})}catch{return i.NextResponse.json({error:"Failed to create SKU"},{status:500})}}let x=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/skus/route",pathname:"/api/skus",filename:"route",bundlePath:"app/api/skus/route"},resolvedPagePath:"C:\\Users\\eshit\\Desktop\\projects\\exporter\\app\\api\\skus\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:w,workUnitAsyncStorage:f,serverHooks:m}=x;function v(){return(0,o.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:f})}},6330:e=>{"use strict";e.exports=require("@prisma/client")},6445:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(7241);function n(e,t){let r=(0,s.a)(e,t?.in);return r.setHours(0,0,0,0),r}},6487:()=>{},7241:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var s=r(3843);function n(e,t){return(0,s.w)(t||e,e)}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9464:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(6330);let n=globalThis.prisma||new s.PrismaClient},9819:(e,t,r)=>{"use strict";r.d(t,{_P:()=>a,my:()=>s,w4:()=>n});let s=6048e5,n=864e5,a=Symbol.for("constructDateFrom")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(5145));module.exports=s})();